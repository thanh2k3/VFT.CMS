@*@model IEnumerable<VFT.CMS.Admin.ViewModels.Products.ProductViewModel>*@
@model IEnumerable<VFT.CMS.Application.Products.Dto.ProductDto>
@using VFT.CMS.Admin.ViewModels.Products;

@{
	ViewData["Title"] = "Sản phẩm";


	//PageViewModel pageVM = new PageViewModel();

	PageViewModel pageVM = ViewBag.PageViewModel;

	int pageNo = 0;

	if (ViewBag.PageViewModel != null)
	{
		pageVM = ViewBag.PageViewModel;
		pageNo = pageVM.CurrentPage;
	}
}


<div class="content-wrapper">
	<section class="content-header">
		<div class="container-fluid">
			<div class="row mb-2">
				<div class="col-sm-6">
					<h1>@ViewData["Title"]</h1>
				</div>

				<div class="col-sm-6">
					<div class="float-sm-right">
						<a class="btn btn-success btn-sm" asp-area="" asp-controller="Product" asp-action="Create">
							<i class="fa-solid fa-square-plus"></i>
							Thêm mới
						</a>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section class="content">
		<div class="card">
			<div class="card-header">
				<h3 class="card-title">Responsive Hover Table</h3>
				<div class="card-tools">
					<form asp-action="Index" method="get">
						<div class="input-group input-group-sm">
							<input type="text" name="SearchText" class="form-control float-right" placeholder="Tìm kiếm...">
							<div class="input-group-append">
								<button class="btn btn-default">
									<i class="fas fa-search"></i>
								</button>
							</div>
						</div>
					</form>
				</div>
			</div>
			<div class="card-body p-0">
				<table class="table projects">
					<thead>
						<tr>
							<th>
								@Html.DisplayNameFor(model => model.Name)
							</th>
							<th>
								@Html.DisplayNameFor(model => model.CategoryId)
							</th>
							<th>
								@Html.DisplayNameFor(model => model.Image)
							</th>
							<th style="width: 15%">
								@Html.DisplayNameFor(model => model.Description)
							</th>
							<th>
								@Html.DisplayNameFor(model => model.Price)
							</th>
							<th>
								@Html.DisplayNameFor(model => model.Quantity)
							</th>
							<th class="text-center" style="width: 15%">CRUD</th>
						</tr>
					</thead>
					<tbody>
						@if (Model != null && Model.Any())
						{
							@foreach (var product in Model)
							{
								<tr>
									<td>@product.Name</td>
									<td>@product.Category.Name</td>
									<td>
										<img style="width: 50px; height: 50px; border-radius: 5px; border: 1px solid #efefef" src="~/@product.Image" />
									</td>
									<td>@product.Description</td>
									<td>@product.Price</td>
									<td>@product.Quantity</td>
									<td class="project-actions text-right">
										<a asp-controller="Product" asp-action="Details" asp-route-id="@product.Id" class="btn btn-primary btn-sm">
											<i class="fa-solid fa-eye"></i>
										</a>
										<a asp-controller="Product" asp-action="Edit" asp-route-id="@product.Id" class="btn btn-warning btn-sm">
											<i class="fas fa-pencil-alt"></i>
										</a>
										<a asp-controller="Product" asp-action="Delete" asp-route-id="@product.Id" class="btn btn-danger btn-sm">
											<i class="fas fa-trash"></i>
										</a>
									</td>
								</tr>
							}
						}
						else
						{
							<tr>
								<td colspan="4">
									<div>
										No Products avaialble at this moment
									</div>
								</td>
							</tr>
						}
					</tbody>
				</table>
			</div>
			<partial name="_PaginationPartial" model="@pageVM" />
		</div>
	</section>
</div>